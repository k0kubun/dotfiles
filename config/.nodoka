include "109.nodoka"

###############################################################################
# Global
###############################################################################
keymap Global

# Modifiers
mod Shift += Convert
key *Convert = *RShift
mod Control += NonConvert
key *NonConvert = *LControl
mod Alt += Hiragana
key *Hiragana = *RAlt

# Control -> Esc
key *LControl = Esc

# Launchers
key C-U = &SetForegroundWindow(/./ && / - Google Chrome$/)
key C-O = &SetForegroundWindow(/./ && /- Slack$/)
key C-H = &SetForegroundWindow(/./ && /wslhost\.exe$/)

# Screen Lock (Log off)
key C-M-L = W-L

# Cmd by Alt
key M-A = C-a
key M-C = C-c

# \ -> _
key BackSlash = S-BackSlash

###############################################################################
# Unless WezTerm
###############################################################################
window UnlessWezTerm /^(?!C:[^:]+[\\\](wezterm-gui)\.exe)/ : Global

# Emacs Bindings
keyseq $EmacsEdit/kill-line = &EmacsEditKillLineFunc S-End C-X &Sync &EmacsEditKillLinePred((Delete), (Return Left))
keyseq $EmacsEdit/kill-word = S-C-Right Delete
keyseq $EmacsEdit/backward-kill-word = S-C-Left Delete
key C-A = Home
key C-E = End
key C-P = Up
key C-N = Down
key C-B = Left
key C-F = Right
key M-B = C-Left
key M-F = C-Right
key C-d = Delete
#key C-K	= $EmacsEdit/kill-line
key C-K	= S-End C-X
key M-d = $EmacsEdit/kill-word
key C-w = $EmacsEdit/backward-kill-word

# Tab management by Cmd
key M-O = C-S-Tab
key M-P = C-Tab
key M-T = C-T
key M-W = C-W

# Cmd by Alt
key M-V = C-v

###############################################################################
# Only Chrome
###############################################################################
window OnlyChrome /^C:[^:]+[\\\]chrome\.exe/ : Global

# For Alt+Click
key *LAlt = *LControl

# Chrome Cmd handlers
key M-L = C-L
key M-S = C-F

###############################################################################
# Only MuMu
###############################################################################
window OnlyMuMu /^C:[^:]+[\\\]MuMuNxDevice\.exe/ : Global

# 1/2/3/4
key D-_1 = D-_1 U-_1
key R-_1 =
key U-_1 =

key D-_2 = D-_2 U-_2
key R-_2 =
key U-_2 =

key D-_3 = D-_3 U-_3
key R-_3 =
key U-_3 =

key D-_4 = D-_4 U-_4
key R-_4 =
key U-_4 =

key D-_5 = D-_5 U-_5
key R-_5 =
key U-_5 =
